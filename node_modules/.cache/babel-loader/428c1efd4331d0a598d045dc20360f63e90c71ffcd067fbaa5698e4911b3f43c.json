{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import NoteContext from\"../Constaxt/notes/noteContext\";import Noteitem from\"./Noteitem\";import Addnote from'./Addnote';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Note=props=>{const{showalert}=props;let Navigate=useNavigate();const context=useContext(NoteContext);const{notes,editNote,getallNotes}=context;useEffect(()=>{if(localStorage.getItem(\"token\")){getallNotes();}else{Navigate('/login');}// eslint-disable-next-line\n},[]);const refShowModal=useRef(null);const refClose=useRef(null);const[note,setnote]=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"});const handleUpdate=e=>{editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();showalert(\"Update Note Succesfully\",\"success\");};const onChange=e=>{setnote({...note,[e.target.name]:e.target.value});};const updateNote=note=>{refShowModal.current.click();setnote({id:note._id,etitle:note.title,edescription:note.description,etag:note.tag});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Addnote,{showalert:showalert}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:{display:\"none\"},ref:refShowModal,className:\"btn btn-primary\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"exampleModalLabel\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\" mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edescription\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange,minLength:5,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",ref:refClose,children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleUpdate,children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:notes.length===0&&\"No Notes For Show !!\"}),notes.map(note=>{return/*#__PURE__*/_jsx(Noteitem,{showalert:showalert,note:note,updateNote:updateNote},note._id);})]})]});};export default Note;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","NoteContext","Noteitem","Addnote","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Note","props","showalert","Navigate","context","notes","editNote","getallNotes","localStorage","getItem","refShowModal","refClose","note","setnote","id","etitle","edescription","etag","handleUpdate","e","current","click","onChange","target","name","value","updateNote","_id","title","description","tag","children","type","style","display","ref","className","tabIndex","htmlFor","minLength","required","onClick","length","map"],"sources":["E:/jash/ReactJSYT/MiniProjects/Mynotebook/mynote/src/Componants/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport NoteContext from \"../Constaxt/notes/noteContext\"\r\nimport Noteitem from \"./Noteitem\"\r\nimport Addnote from './Addnote'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Note = (props) => {\r\n  const { showalert } =props\r\n  let Navigate = useNavigate()\r\n  const context = useContext(NoteContext);\r\n  const { notes, editNote, getallNotes } = context;\r\n  useEffect(() => {\r\n    if(localStorage.getItem(\"token\")){\r\n      getallNotes()\r\n    }else{\r\n      Navigate('/login')\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [])\r\n  const refShowModal = useRef(null)\r\n  const refClose = useRef(null)\r\n  const [note, setnote] = useState({id:\"\" ,etitle:\"\" , edescription : \"\" , etag:\"\"})\r\n    \r\n  const handleUpdate = (e)=>{\r\n      editNote(note.id ,note.etitle , note.edescription , note.etag)\r\n      refClose.current.click()\r\n     showalert(\"Update Note Succesfully\" , \"success\")\r\n\r\n  }\r\n\r\n  const onChange = (e)=>{\r\n      setnote({...note , [e.target.name] : e.target.value})\r\n  }\r\n  const updateNote = (note) => {\r\n    \r\n    refShowModal.current.click()\r\n    setnote({id:note._id , etitle:note.title , edescription :note.description , etag:note.tag})\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <Addnote showalert={showalert}/>\r\n      <button type=\"button\" style={{ display: \"none\" }} ref={refShowModal} className=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n        Launch demo modal\r\n      </button>\r\n\r\n      <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h1 className=\"modal-title fs-5\" id=\"exampleModalLabel\">Update</h1>\r\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"etitle\" className=\"form-label\" >Title</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={note.etitle} onChange={onChange}  minLength={5} required/>\r\n                </div>\r\n                <div className=\" mb-3\">\r\n                    <label htmlFor=\"edescription\" className=\"form-label\">Description</label>\r\n                    <input type='text' className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription}  onChange={onChange} minLength={5} required></input>\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\" ref={refClose}>Close</button>\r\n              <button type=\"button\" className=\"btn btn-primary\" onClick={handleUpdate}>Update Note</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row \">\r\n        <h1>Your Notes</h1>\r\n          <div className=\"container\">\r\n            {notes.length === 0 && \"No Notes For Show !!\"}\r\n          </div>\r\n        {\r\n          notes.map((note) => {\r\n            return <Noteitem showalert={showalert} note={note} updateNote={updateNote} key={note._id} />\r\n          })\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Note"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}